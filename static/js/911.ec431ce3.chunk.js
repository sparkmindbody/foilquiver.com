(self.webpackChunkweb=self.webpackChunkweb||[]).push([[911],{7911:(e,r,t)=>{t.r(r),t.d(r,{default:()=>q});var n=t(5458),o=t(4467),i=t(296),l=t(6665),s=t(3929),c=t(6283),a=t(3668),d=t(467),u=t(3029),p=t(2901),f=t(1087),h=(0,p.A)((function e(){(0,u.A)(this,e)}),null,[{key:"getBaseUrl",value:function(){return"https://foilquiver.com"}},{key:"getAllProducts",value:function(){var e=(0,d.A)((function*(){try{if(this.isWeb){var e=this.getBaseUrl();try{var r=yield fetch(`${e}${this.DATA_PATH}`);if(r.ok)return yield r.json()}catch(c){}try{var t=[];for(var o of["armstrong","lift-foils","axis-foils","code-foils","kt-foils","uni-foil"])try{var i=yield fetch(`${e}/${this.CACHE_DIR}/${o}.json`);if(i.ok){var l=yield i.json();t.push.apply(t,(0,n.A)(l))}}catch(c){}if(t.length>0)return t}catch(c){}}else{var s=yield f.A.getItem("foils");if(s)return JSON.parse(s)}}catch(c){}return[]}));return function(){return e.apply(this,arguments)}}()}]);function y(e){var r=(0,l.useState)({field:"area",direction:"asc"}),t=(0,i.A)(r,2),o=t[0],s=t[1],c=(0,l.useMemo)((function(){return r=e,t=o.field,i=o.direction,(0,n.A)(r).sort((function(e,r){var n,o;"brand"===t||"series"===t||"model"===t||"type"===t?(n=e[t].toLowerCase(),o=r[t].toLowerCase()):"price"===t?(n=e.price||0,o=r.price||0):t in e.specs?(n=e.specs[t]||0,o=r.specs[t]||0):(n="",o="");var l="asc"===i?1:-1;return"string"===typeof n&&"string"===typeof o?n.localeCompare(o)*l:"number"===typeof n&&"number"===typeof o?(n-o)*l:0}));var r,t,i}),[e,o]);return{sortOption:o,setSortOption:s,sortedFoils:c}}h.isWeb=!0,h.DATA_PATH="/data/foils.json",h.CACHE_DIR=".cache";var b=t(5708),x=t(3301),g=t(5713),m=t(9476),j=t(397);function A(e){var r=e.filterOptions,t=e.selectedBrands,n=e.selectedSeries,o=e.selectedTypes,a=e.onFilterChange,d=(0,l.useState)(!1),u=(0,i.A)(d,2),p=u[0],f=u[1],h=(0,l.useState)(new x.A.Value(0)),y=(0,i.A)(h,1)[0],A=(0,l.useState)(0),w=(0,i.A)(A,2),T=w[0],v=w[1],S=y.interpolate({inputRange:[0,1],outputRange:[0,T]});return(0,j.jsxs)(s.A,{style:C.wrapper,children:[(0,j.jsxs)(b.A,{onPress:function(){var e=p?0:1;x.A.spring(y,{toValue:e,useNativeDriver:!1,friction:10}).start(),f(!p)},style:C.header,children:[(0,j.jsxs)(s.A,{style:C.headerContent,children:[(0,j.jsx)(c.A,{style:C.headerTitle,children:"Filters"}),(0,j.jsxs)(s.A,{style:C.filterSummary,children:[t.length>0&&(0,j.jsxs)(c.A,{style:C.filterCount,children:["Brands: ",t.length]}),o.length>0&&(0,j.jsxs)(c.A,{style:C.filterCount,children:["Types: ",o.length]}),n.length>0&&(0,j.jsxs)(c.A,{style:C.filterCount,children:["Series: ",n.length]})]})]}),(0,j.jsx)(m.A,{name:p?"chevron-up":"chevron-down",size:24,color:g.T.text.secondary})]}),(0,j.jsx)(x.A.View,{style:[C.content,{height:S}],children:(0,j.jsxs)(s.A,{style:C.container,onLayout:function(e){var r=e.nativeEvent.layout.height;v(r)},children:[(0,j.jsxs)(s.A,{style:C.section,children:[(0,j.jsx)(c.A,{style:C.sectionTitle,children:"Brand"}),(0,j.jsx)(s.A,{style:C.chipContainer,children:r.brands.map((function(e){return(0,j.jsx)(b.A,{style:[C.chip,t.includes(e)&&C.chipSelected],onPress:function(){return a("brands",e)},children:(0,j.jsx)(c.A,{style:[C.chipText,t.includes(e)&&C.chipTextSelected],children:e})},e)}))})]}),(0,j.jsxs)(s.A,{style:C.section,children:[(0,j.jsx)(c.A,{style:C.sectionTitle,children:"Type"}),(0,j.jsx)(s.A,{style:C.chipContainer,children:r.types.map((function(e){return(0,j.jsx)(b.A,{style:[C.chip,o.includes(e)&&C.chipSelected],onPress:function(){return a("type",e)},children:(0,j.jsx)(c.A,{style:[C.chipText,o.includes(e)&&C.chipTextSelected],children:e})},e)}))})]}),(0,j.jsxs)(s.A,{style:C.section,children:[(0,j.jsx)(c.A,{style:C.sectionTitle,children:"Series"}),(0,j.jsx)(s.A,{style:C.chipContainer,children:r.series.map((function(e){return(0,j.jsx)(b.A,{style:[C.chip,n.includes(e)&&C.chipSelected],onPress:function(){return a("series",e)},children:(0,j.jsx)(c.A,{style:[C.chipText,n.includes(e)&&C.chipTextSelected],children:e})},e)}))})]})]})})]})}var C=a.A.create({wrapper:{backgroundColor:g.T.background.primary,marginBottom:16,borderRadius:8,borderWidth:1,borderColor:g.T.border,overflow:"hidden"},header:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",padding:16,backgroundColor:g.T.background.primary},headerContent:{flex:1,flexDirection:"row",alignItems:"center",gap:16},headerTitle:{fontSize:16,fontWeight:"600",color:g.T.text.primary},filterSummary:{flexDirection:"row",gap:12},filterCount:{fontSize:14,color:g.T.text.secondary},content:{overflow:"hidden"},container:{padding:16,paddingTop:0},section:{marginBottom:16},sectionTitle:{fontSize:14,fontWeight:"600",color:g.T.text.primary,marginBottom:8},chipContainer:{flexDirection:"row",flexWrap:"wrap",gap:8},chip:{backgroundColor:g.T.background.secondary,borderRadius:16,paddingHorizontal:12,paddingVertical:6},chipSelected:{backgroundColor:g.T.primary},chipText:{color:g.T.text.secondary,fontSize:14},chipTextSelected:{color:g.T.background.primary}}),w=t(4307),T=t(558);function v(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function S(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?v(Object(t),!0).forEach((function(r){(0,o.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):v(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var k=768,O=930;function P(e){var r=e.foils,t=e.onSort,n=e.onFoilSelect,o=e.isSelected,i=e.sortOption,l=(0,T.A)().width<k,a=function(e){var r=i.field===e;return(0,j.jsxs)(s.A,{style:D.sortIconContainer,children:[(0,j.jsx)(c.A,{style:[D.sortIcon,D.sortIconUp,r&&i.ascending&&D.sortIconUpActive],children:"\u25b2"}),(0,j.jsx)(c.A,{style:[D.sortIcon,D.sortIconDown,r&&!i.ascending&&D.sortIconDownActive],children:"\u25bc"})]})},d=function(e){return D.headerText};return(0,j.jsx)(s.A,{style:[D.container,l&&D.containerMobile],children:(0,j.jsx)(s.A,{style:[D.tableWrapper,l&&D.tableWrapperMobile],children:(0,j.jsx)(w.A,{horizontal:!0,showsHorizontalScrollIndicator:!0,contentContainerStyle:D.scrollViewContent,style:[D.horizontalScrollView,l&&D.scrollViewMobile],scrollEventThrottle:16,decelerationRate:"normal",snapToAlignment:"start",directionalLockEnabled:!0,alwaysBounceHorizontal:!0,overScrollMode:"auto",children:(0,j.jsxs)(s.A,{style:D.tableContent,children:[(0,j.jsx)(s.A,{style:D.tableHeader,children:(0,j.jsxs)(s.A,{style:D.headerRow,children:[(0,j.jsxs)(b.A,{style:D.headerCell,onPress:function(){return t("brand")},children:[(0,j.jsx)(c.A,{style:d(),children:"Brand"}),a("brand")]}),(0,j.jsxs)(b.A,{style:[D.headerCell,D.modelCell],onPress:function(){return t("model")},children:[(0,j.jsx)(c.A,{style:d(),children:"Model"}),a("model")]}),(0,j.jsxs)(b.A,{style:[D.headerCell,D.typeCell],onPress:function(){return t("type")},children:[(0,j.jsx)(c.A,{style:d(),children:"Type"}),a("type")]}),(0,j.jsxs)(b.A,{style:[D.headerCell,D.seriesCell],onPress:function(){return t("series")},children:[(0,j.jsx)(c.A,{style:d(),children:"Series"}),a("series")]}),(0,j.jsxs)(b.A,{style:[D.headerCell,D.numberHeaderCell],onPress:function(){return t("area")},children:[(0,j.jsx)(c.A,{style:[d(),D.numberHeaderText],children:"Area"}),a("area")]}),(0,j.jsxs)(b.A,{style:[D.headerCell,D.numberHeaderCell],onPress:function(){return t("wingspan")},children:[(0,j.jsx)(c.A,{style:[d(),D.numberHeaderText],children:"Span"}),a("wingspan")]}),(0,j.jsxs)(b.A,{style:[D.headerCell,D.numberHeaderCell],onPress:function(){return t("aspectRatio")},children:[(0,j.jsx)(c.A,{style:[d(),D.numberHeaderText],children:"AR"}),a("aspectRatio")]}),(0,j.jsxs)(b.A,{style:[D.headerCell,D.numberHeaderCell],onPress:function(){return t("price")},children:[(0,j.jsx)(c.A,{style:[d(),D.numberHeaderText],children:"Price"}),a("price")]}),(0,j.jsx)(s.A,{style:[D.headerCell,D.linkHeaderCell],children:(0,j.jsx)(c.A,{style:[D.headerText,D.linkHeaderText],children:"Link"})})]})}),(0,j.jsx)(s.A,{style:D.scrollViewContainer,children:(0,j.jsx)(w.A,{style:D.scrollView,children:r.map((function(e,r){var t;return(0,j.jsxs)(b.A,{onPress:function(){return n(e)},style:function(t){var n=t.pressed;return[D.row,r%2===0&&D.rowEven,o(e)&&D.rowSelected,n&&D.rowHovered]},children:[(0,j.jsx)(c.A,{style:D.cell,children:e.brand}),(0,j.jsx)(c.A,{style:[D.cell,D.modelCell],children:e.model}),(0,j.jsx)(c.A,{style:[D.cell,D.typeCell],children:e.type}),(0,j.jsx)(c.A,{style:[D.cell,D.seriesCell],children:e.series}),(0,j.jsx)(c.A,{style:[D.cell,D.numberCell],children:e.specs.area}),(0,j.jsx)(c.A,{style:[D.cell,D.numberCell],children:e.specs.wingspan}),(0,j.jsx)(c.A,{style:[D.cell,D.numberCell],children:null==(t=e.specs.aspectRatio)?void 0:t.toFixed(2)}),(0,j.jsx)(c.A,{style:[D.cell,D.numberCell],children:e.price?`$${e.price}`:"-"}),(0,j.jsx)(s.A,{style:[D.cell,D.linkCell],children:e.sourceUrl&&(0,j.jsx)(b.A,{onPress:function(r){r.stopPropagation(),window.open(e.sourceUrl,"_blank")},style:function(e){var r=e.pressed;return[D.linkButton,r&&D.linkButtonPressed]},children:(0,j.jsx)(c.A,{style:D.linkText,children:"View"})})})]},`${e.brand}-${e.model}`)}))})})]})})})})}var D=a.A.create({container:{flex:1,padding:0},containerMobile:{padding:0},tableWrapper:{width:O,backgroundColor:g.T.background.primary,borderRadius:0,overflow:"hidden",borderWidth:0,flex:1},tableWrapperMobile:{borderRadius:0},scrollViewMobile:S({flex:1},{WebkitOverflowScrolling:"touch"}),tableContent:{backgroundColor:g.T.background.primary,width:O,flex:1,flexDirection:"column"},scrollViewContainer:{flex:1},scrollView:{flex:1},tableHeader:{backgroundColor:g.T.background.secondary,borderBottomWidth:1,borderBottomColor:g.T.primary,width:O},headerRow:{flexDirection:"row",borderBottomWidth:1,borderBottomColor:g.T.secondary},headerCell:S({flexDirection:"row",alignItems:"center",justifyContent:"space-between",padding:12,borderRightWidth:1,borderRightColor:g.T.border,width:100},{cursor:"pointer"}),headerText:{color:g.T.text.secondary,fontWeight:"600",fontSize:16},row:S({flexDirection:"row",borderBottomWidth:1,borderBottomColor:g.T.border,width:O},{cursor:"pointer"}),rowEven:{backgroundColor:g.T.background.secondary},rowSelected:{backgroundColor:`${g.T.primary}15`},rowHovered:{backgroundColor:`${g.T.primary}10`},cell:{color:g.T.text.primary,fontSize:14,padding:12,borderRightWidth:1,borderRightColor:g.T.border,width:100},modelCell:{width:150},typeCell:{width:80},seriesCell:{width:120},numberCell:{width:100,textAlign:"right"},numberHeaderCell:{width:100,flexDirection:"row",alignItems:"center",justifyContent:"space-between",gap:4},numberHeaderText:{textAlign:"left",flex:1},linkCell:{width:80,alignItems:"center",justifyContent:"center",borderRightWidth:0,borderTopRightRadius:0,borderBottomRightRadius:0},linkHeaderCell:{width:80,flexDirection:"row",alignItems:"center",justifyContent:"center",borderRightWidth:0,borderTopRightRadius:0},linkHeaderText:{textAlign:"center"},linkButton:S({backgroundColor:g.T.primary,paddingHorizontal:8,paddingVertical:4,borderRadius:4,minWidth:44,alignItems:"center"},{cursor:"pointer"}),linkButtonPressed:{opacity:.8},linkText:{color:g.T.background.primary,fontSize:12,fontWeight:"600"},sortIconContainer:{flexDirection:"column",alignItems:"center",height:28,justifyContent:"center",width:16,gap:2},sortIcon:{color:g.T.text.muted,fontSize:12,width:12,height:10,lineHeight:10,textAlign:"center"},sortIconUp:{marginBottom:0},sortIconDown:{marginTop:0},sortIconUpActive:{color:g.T.primary,fontSize:13},sortIconDownActive:{color:g.T.primary,fontSize:13},scrollViewContent:{flexGrow:0},horizontalScrollView:{flex:1}});function B(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function R(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?B(Object(t),!0).forEach((function(r){(0,o.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):B(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var H=function(e){var r=e.children;return(0,j.jsx)("div",{style:{position:"fixed",bottom:64,left:0,right:0,zIndex:2e3,pointerEvents:"none"},children:(0,j.jsx)("div",{style:{pointerEvents:"auto",display:"flex",justifyContent:"flex-end",paddingRight:16,paddingBottom:0},children:r})})};const F=function(e){var r=e.selectedFoils,t=e.onCompareSelected,n=e.onExitCompare,o=e.onClearSelection,i=e.isComparisonView;if(0===r.length&&!i)return null;var l=i?(0,j.jsx)(s.A,{style:I.comparisonBar,children:(0,j.jsx)(b.A,{style:[I.button,I.cancelButton],onPress:n,children:(0,j.jsx)(c.A,{style:I.buttonText,children:"Back"})})}):(0,j.jsxs)(s.A,{style:I.comparisonBar,children:[(0,j.jsxs)(c.A,{style:I.selectionText,children:["Selected: ",r.length]}),(0,j.jsxs)(s.A,{style:I.buttonGroup,children:[(0,j.jsx)(b.A,{style:[I.button,I.clearButton],onPress:o,children:(0,j.jsx)(c.A,{style:[I.buttonText,I.clearButtonText],children:"Clear"})}),(0,j.jsx)(b.A,{style:[I.button,r.length<2&&I.buttonDisabled],onPress:t,disabled:r.length<2,children:(0,j.jsx)(c.A,{style:I.buttonText,children:"Compare"})})]})]});return(0,j.jsx)(H,{children:l})};var I=a.A.create({container:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",padding:16,paddingBottom:8,backgroundColor:g.T.background.secondary,borderTopWidth:1,borderTopColor:g.T.border},comparisonBar:{flexDirection:"row",alignItems:"center",justifyContent:"flex-end",gap:12,backgroundColor:"transparent"},floatingButton:R({alignSelf:"flex-end",backgroundColor:"#007AFF",paddingHorizontal:16,paddingVertical:12,borderRadius:8},{boxShadow:"0px 2px 4px rgba(0,0,0,0.1)",cursor:"pointer"}),buttonGroup:{flexDirection:"row",gap:12},button:R({backgroundColor:g.T.primary,paddingHorizontal:16,paddingVertical:12,borderRadius:8},{boxShadow:"0px 2px 4px rgba(0,0,0,0.1)",cursor:"pointer"}),buttonDisabled:{backgroundColor:g.T.text.muted,opacity:.5},clearButton:{backgroundColor:g.T.background.primary,borderWidth:1,borderColor:g.T.secondary},cancelButton:{backgroundColor:g.T.secondary},buttonText:{color:g.T.background.primary,fontWeight:"600",fontSize:14},selectionText:{fontSize:14,color:g.T.text.secondary,marginRight:12},selectedCount:{color:g.T.text.secondary,fontSize:16},buttonContainer:{flexDirection:"row",gap:8},compareButton:{backgroundColor:g.T.primary},compareButtonText:{color:g.T.background.primary},clearButtonText:{color:g.T.secondary}});const W=function(e){var r=e.foils,t=(e.onClose,e.onCompare,y(r)),n=t.sortOption,o=t.setSortOption,i=t.sortedFoils;return(0,j.jsx)(s.A,{style:z.container,children:(0,j.jsx)(P,{foils:i,onSort:function(e){o((function(r){return{field:e,direction:r.field===e&&"asc"===r.direction?"desc":"asc"}}))},onFoilSelect:function(){},isSelected:function(){return!1},sortOption:{field:n.field,ascending:"asc"===n.direction}})})};var z=a.A.create({container:{flex:1}}),V=t(2167);function E(){var e=(0,V.cq)(),r=(0,T.A)().width<768;return(0,j.jsx)(s.A,{style:[M.container,r&&M.containerMobile],children:(0,j.jsx)(s.A,{style:[M.content,r&&M.contentMobile],children:(0,j.jsxs)(s.A,{style:[M.linkGroup,r&&M.linkGroupMobile],children:[(0,j.jsx)(b.A,{onPress:function(){return e.navigate("Terms")},children:(0,j.jsx)(c.A,{style:M.link,children:"Terms of Service"})}),(0,j.jsx)(c.A,{style:M.separator,children:"\u2022"}),(0,j.jsx)(b.A,{onPress:function(){return e.navigate("Privacy")},children:(0,j.jsx)(c.A,{style:M.link,children:"Privacy Policy"})}),(0,j.jsx)(c.A,{style:M.separator,children:"\u2022"}),(0,j.jsx)(b.A,{onPress:function(){return e.navigate("Contact")},children:(0,j.jsx)(c.A,{style:M.link,children:"Contact Us"})})]})})})}var M=a.A.create({container:{backgroundColor:g.T.background.primary,borderTopWidth:1,borderTopColor:g.T.border,padding:16},containerMobile:{padding:12},content:{maxWidth:1200,marginHorizontal:"auto",flexDirection:"row",justifyContent:"center",alignItems:"center"},contentMobile:{flexDirection:"column",gap:8},linkGroup:{flexDirection:"row",alignItems:"center",gap:16},linkGroupMobile:{gap:8},link:{color:g.T.text.secondary,fontSize:14},separator:{color:g.T.text.muted,fontSize:14}}),$=t(7821),U=t(5229),G=function(e){var r=e.title,t=e.description,n=e.canonicalUrl,o=e.imageUrl,i=`${r} | FoilQuiver`;return(0,j.jsxs)(U.mg,{children:[(0,j.jsx)("title",{children:i}),(0,j.jsx)("meta",{name:"description",content:t}),n&&(0,j.jsx)("link",{rel:"canonical",href:n}),(0,j.jsx)("meta",{property:"og:title",content:i}),(0,j.jsx)("meta",{property:"og:description",content:t}),o&&(0,j.jsx)("meta",{property:"og:image",content:o}),(0,j.jsx)("meta",{name:"twitter:title",content:i}),(0,j.jsx)("meta",{name:"twitter:description",content:t}),o&&(0,j.jsx)("meta",{name:"twitter:image",content:o})]})};function L(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function _(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?L(Object(t),!0).forEach((function(r){(0,o.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):L(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function q(e){var r,t=e.route,a=(e.navigation,function(){var e=(0,l.useState)([]),r=(0,i.A)(e,2),t=r[0],n=r[1],o=(0,l.useState)(!0),s=(0,i.A)(o,2),c=s[0],a=s[1],u=(0,l.useState)(null),p=(0,i.A)(u,2),f=p[0],y=p[1],b=function(){var e=(0,d.A)((function*(){try{a(!0),y(null);var e=yield h.getAllProducts();n(e)}catch(r){y(r instanceof Error?r.message:"Failed to load foils")}finally{a(!1)}}));return function(){return e.apply(this,arguments)}}();return(0,l.useEffect)((function(){b()}),[]),{foils:t,loading:c,error:f,refreshFoils:function(){b()}}}()),u=a.foils,p=a.loading,f=a.error,b=(a.refreshFoils,(0,l.useState)(!1)),x=(0,i.A)(b,2),g=x[0],m=x[1],C=function(e){var r=(0,l.useState)({brands:[],series:[],type:null}),t=(0,i.A)(r,2),n=t[0],o=t[1],s=(0,l.useMemo)((function(){var r=Array.from(new Set(e.map((function(e){return e.brand})))),t=(Array.from(new Set(e.map((function(e){return e.series})))),r.reduce((function(r,t){return r[t]=Array.from(new Set(e.filter((function(e){return e.brand===t})).map((function(e){return e.series})))),r}),{})),o=n.type?e.filter((function(e){return e.type===n.type})):e,i=Array.from(new Set(o.map((function(e){return e.series}))));return{brands:r,series:n.brands.length>0?Array.from(new Set(o.filter((function(e){return n.brands.includes(e.brand)})).map((function(e){return e.series})))):i,types:["front","tail"],brandSeries:t}}),[e,n.brands,n.type]),c=(0,l.useMemo)((function(){return e.filter((function(e){var r=0===n.brands.length||n.brands.includes(e.brand),t=0===n.series.length||n.series.includes(e.series),o=!n.type||e.type===n.type;return r&&t&&o}))}),[e,n]);return{filters:n,setFilters:o,filteredFoils:c,filterOptions:s}}(u),w=C.filters,T=C.setFilters,v=C.filteredFoils,S=C.filterOptions,k=function(e,r){return{searchedFoils:(0,l.useMemo)((function(){if(!r.trim())return e;var t=r.toLowerCase().trim();return e.filter((function(e){return[e.brand,e.model,e.series,e.specs.area.toString(),e.specs.wingspan.toString(),e.specs.aspectRatio.toString()].some((function(e){return e.toLowerCase().includes(t)}))}))}),[e,r])}}(v,(null==(r=t.params)?void 0:r.searchQuery)||""),O=y(k.searchedFoils),D=O.sortOption,B=O.setSortOption,R=O.sortedFoils,H=function(){var e=(0,l.useState)([]),r=(0,i.A)(e,2),t=r[0],o=r[1],s=(0,l.useCallback)((function(e){o((function(r){return r.some((function(r){return r.model===e.model&&r.brand===e.brand}))?r.filter((function(r){return!(r.model===e.model&&r.brand===e.brand)})):[].concat((0,n.A)(r),[e])}))}),[]),c=(0,l.useCallback)((function(e){return t.some((function(r){return r.model===e.model&&r.brand===e.brand}))}),[t]),a=(0,l.useCallback)((function(){o([])}),[]);return{selectedFoils:t,toggleFoilSelection:s,isSelected:c,clearSelection:a}}(),I=H.selectedFoils,z=H.toggleFoilSelection,V=H.isSelected,M=H.clearSelection,U=function(){m(!1)};return p?(0,j.jsx)($.I,{}):f?(0,j.jsx)(c.A,{style:Q.error,children:f}):(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(G,{title:"FoilQuiver - Browse and compare hydrofoils",description:`Compare ${u.length} hydrofoils across ${S.brands.length} brands. Filter by type, brand, and specifications to find your perfect foil.`,canonicalUrl:"https://foilquiver.com/browse"}),(0,j.jsxs)(s.A,{style:[Q.container,Q.containerWeb],children:[(0,j.jsx)(A,{filterOptions:{brands:S.brands,series:S.series,types:["front","tail"]},selectedBrands:w.brands,selectedSeries:w.series,selectedTypes:w.type?[w.type]:[],onFilterChange:function(e,r){T((function(t){if("type"===e){var i=r;return _(_({},t),{},{type:t.type===i?null:i})}var l=t[e];return _(_({},t),{},(0,o.A)({},e,l.includes(r)?l.filter((function(e){return e!==r})):[].concat((0,n.A)(l),[r])))}))}}),(0,j.jsx)(s.A,{style:[Q.tableContainer,Q.tableContainerWeb],children:g?(0,j.jsx)(W,{foils:I,onClose:U,onCompare:function(){}}):(0,j.jsx)(P,{foils:R,onSort:function(e){B((function(r){return{field:e,direction:r.field===e&&"asc"===r.direction?"desc":"asc"}}))},onFoilSelect:z,isSelected:V,sortOption:{field:D.field,ascending:"asc"===D.direction}})}),(0,j.jsx)(F,{selectedFoils:I,onCompareSelected:function(){m(!0)},onExitCompare:U,onClearSelection:M,isComparisonView:g}),(0,j.jsx)(E,{})]})]})}var Q=a.A.create({container:{flex:1,backgroundColor:g.T.background.primary},containerWeb:{minHeight:"100%",display:"flex",flexDirection:"column"},tableContainer:{flex:1,padding:0,backgroundColor:g.T.background.primary,minHeight:0},tableContainerWeb:{overflow:"scroll"},error:{color:"red",padding:16,textAlign:"center"}})}}]);
//# sourceMappingURL=911.ec431ce3.chunk.js.map